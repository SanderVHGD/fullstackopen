(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{ 40:function(e,n,t){},41:function(e,n,t){'use strict';t.r(n);var c=t(16),r=t.n(c),a=t(3),o=t(2),u=t(6),i=t.n(u),s='/api/persons',d={ getAll:function(){return i.a.get(s).then((function(e){return e.data}))},create:function(e){return i.a.post(s,e).then((function(e){return e.data}))},remove:function(e){return i.a.delete(''.concat(s,'/').concat(e)).then((function(e){return e.data}))} },l=t(0),j=function(e){var n=e.value,t=e.onChange;return Object(l.jsxs)('div',{ children:['Filter shown with',Object(l.jsx)('input',{ value:n,onChange:t })] })},b=function(e){var n=e.addPerson,t=e.newName,c=e.handleNameChange,r=e.newNumber,a=e.handleNumberChange;return Object(l.jsxs)('form',{ onSubmit:n,children:[Object(l.jsxs)('div',{ children:[Object(l.jsxs)('div',{ children:['name:',Object(l.jsx)('input',{ value:t,onChange:c })] }),Object(l.jsxs)('div',{ children:['number:',Object(l.jsx)('input',{ value:r,onChange:a })] })] }),Object(l.jsx)('div',{ children:Object(l.jsx)('button',{ type:'submit',children:'add' }) })] })},h=function(e){var n=e.persons,t=e.handleDelete;return Object(l.jsx)('div',{ children:n.map((function(e){return Object(l.jsx)(f,{ person:e,handleDelete:t },e.id)})) })},f=function(e){var n=e.person,t=e.handleDelete;return Object(l.jsxs)('div',{ children:[n.name,' ',n.number,Object(l.jsx)('button',{ onClick:function(){return t(n)},children:'delete' })] })},O=function(e){var n=e.message;return null===n?null:Object(l.jsx)('div',{ className:'message',children:n })},m=function(){var e=Object(o.useState)([]),n=Object(a.a)(e,2),t=n[0],c=n[1],r=Object(o.useState)(''),u=Object(a.a)(r,2),i=u[0],s=u[1],f=Object(o.useState)(''),m=Object(a.a)(f,2),v=m[0],x=m[1],p=Object(o.useState)(''),g=Object(a.a)(p,2),w=g[0],C=g[1],N=Object(o.useState)(null),k=Object(a.a)(N,2),D=k[0],S=k[1];Object(o.useEffect)((function(){d.getAll().then((function(e){c(e)}))}),[]);var A=t.filter((function(e){return-1!==e.name.toLowerCase().indexOf(w.toLowerCase())})),P=function(e){S(e),setTimeout((function(){S(null)}),5e3)};return Object(l.jsxs)('div',{ children:[Object(l.jsx)('h2',{ children:'Phonebook' }),Object(l.jsx)(O,{ message:D }),Object(l.jsx)(j,{ value:w,onChange:function(e){return C(e.target.value)} }),Object(l.jsx)('h2',{ children:'Add a new person' }),Object(l.jsx)(b,{ addPerson:function(e){if(e.preventDefault(),t.some((function(e){return e.name===i})))window.alert(''.concat(i,' is already added to phonebook'));else{var n={ name:i,number:v };d.create(n).then((function(e){c(t.concat(e)),s(''),x(''),P('Added '.concat(e.name))})).catch((function(e){P(e.response.data)}))}},newName:i,handleNameChange:function(e){return s(e.target.value)},newNumber:v,handleNumberChange:function(e){return x(e.target.value)} }),Object(l.jsx)('h2',{ children:'Persons' }),Object(l.jsx)(h,{ persons:A,handleDelete:function(e){window.confirm('Delete '.concat(e.name))&&d.remove(e.id).then((function(){var n=t.filter((function(n){return n.id!==e.id}));c(n)}))} })] })};t(40);r.a.render(Object(l.jsx)(m,{}),document.getElementById('root'))} },[[41,1,2]]])
//# sourceMappingURL=main.5b3a33db.chunk.js.map