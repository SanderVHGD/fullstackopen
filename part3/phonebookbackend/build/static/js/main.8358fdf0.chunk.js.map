{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","api","getAll","axios","get","then","response","data","create","newObject","post","remove","id","delete","Filter","value","onChange","Form","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","persons","handleDelete","map","person","Person","name","number","onClick","Message","message","className","App","useState","setPersons","setNewName","setNewNumber","search","setSearch","setMessage","useEffect","personService","initialPersons","personsToShow","filter","toLowerCase","indexOf","displayMessage","setTimeout","event","target","preventDefault","some","window","alert","personObject","returnedPerson","concat","confirm","newPersons","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8358fdf0.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst api = { getAll, create, remove }\r\n\r\nexport default api","import React, { useState, useEffect } from 'react'\r\nimport personService from './services/persons'\r\n\r\nconst Filter = ({value, onChange}) => {\r\n  return (\r\n    <div>\r\n      Filter shown with\r\n      <input \r\n        value={value}\r\n        onChange={onChange}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Form = ({\r\n  addPerson,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange\r\n  }) => {\r\n    return (\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          <div>\r\n            name: \r\n            <input \r\n              value={newName}\r\n              onChange={handleNameChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            number: \r\n            <input \r\n              value={newNumber}\r\n              onChange={handleNumberChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nconst Persons = ({persons, handleDelete}) => {\r\n  return (\r\n    <div>\r\n      {persons.map((person) => \r\n        <Person \r\n          key={person.id} \r\n          person={person}\r\n          handleDelete={handleDelete}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Person = ({person, handleDelete}) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number} \r\n      <button onClick={() => handleDelete(person)}>delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Message = ({message}) => {\r\n  if(message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"message\">\r\n      {message}\r\n    </div>\r\n  )\r\n}  \r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ search, setSearch ] = useState('')\r\n  const [ message, setMessage ] = useState(null)\r\n\r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\r\n  const handleSearchChange = (event) => setSearch(event.target.value)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const addPerson = event => {\r\n    event.preventDefault()\r\n    if(persons.some(person => person.name === newName)) {\r\n      window.alert(`${newName} is already added to phonebook`)\r\n    } else {\r\n      const personObject = { \r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n\r\n      personService\r\n        .create(personObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          displayMessage(`Added ${returnedPerson.name}`)\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleDelete = person => {\r\n    if(window.confirm(`Delete ${person.name}`)) {\r\n      personService\r\n        .remove(person.id)\r\n        .then(() => {\r\n          const newPersons = persons.filter(p => p.id !== person.id)\r\n          setPersons(newPersons)\r\n        })\r\n    }\r\n  }\r\n\r\n  const personsToShow = persons.filter(\r\n    person => person.name.toLowerCase().indexOf(search.toLowerCase()) !== -1 \r\n  )\r\n\r\n  const displayMessage = (message) => {\r\n    setMessage(message)\r\n    setTimeout(() => {\r\n      setMessage(null)\r\n    }, 5000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Message message={message} />\r\n\r\n      <Filter\r\n        value={search}\r\n        onChange={handleSearchChange}\r\n      />\r\n      \r\n      <h2>Add a new person</h2>\r\n      <Form\r\n        addPerson={addPerson}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n\r\n      <h2>Persons</h2>\r\n      <Persons\r\n        persons={personsToShow}\r\n        handleDelete={handleDelete}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <App />, \r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}